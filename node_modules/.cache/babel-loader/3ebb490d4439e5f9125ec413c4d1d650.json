{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ZCJ\\\\Desktop\\\\internshipsysrem\\\\src\\\\components\\\\Discusstion\\\\Discusstion.js\";\nimport React, { Component } from 'react';\nimport style from './Discusstion.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Discusstion extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      discusslist: []\n    };\n\n    this.obtainDiscuss = () => {\n      //console.log('课题数据',this.props.topicname)\n      fetch('/obtaindiscuss', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          topicname: this.props.topicname\n        })\n      }).then(response => response.json()).then(data => {\n        this.setState({\n          discusslist: data\n        });\n        console.log(data);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.obtainDiscuss();\n  }\n\n  // <div>\n  // </div>\n  // \n  // <div className = {style.ownmsg>\n  //     {item.username}：{item.msg}\n  // </div></div>\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.disscusspage,\n        children: this.state.discusslist.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            className: style.discussline,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: style.msgtime,\n              children: item.msgtime\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 29\n            }, this), item.username === this.props.userdata.username ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: style.ownmsg,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: item.msg\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 49,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: style.msgbox,\n                children: item.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 52,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 48,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: style.othermsg,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: item.username\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: style.msgbox,\n                children: item.msg\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 33\n            }, this)]\n          }, item.msgtime, true, {\n            fileName: _jsxFileName,\n            lineNumber: 44,\n            columnNumber: 25\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Component","style","Discusstion","state","discusslist","obtainDiscuss","fetch","method","headers","body","JSON","stringify","topicname","props","then","response","json","data","setState","console","log","componentDidMount","render","disscusspage","map","item","discussline","msgtime","username","userdata","ownmsg","msg","msgbox","othermsg"],"sources":["C:/Users/ZCJ/Desktop/internshipsysrem/src/components/Discusstion/Discusstion.js"],"sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport style from './Discusstion.module.css'\r\n\r\nexport default class Discusstion extends Component {\r\n    state = {\r\n        discusslist:[]\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.obtainDiscuss()\r\n    }\r\n\r\n    obtainDiscuss = () =>{\r\n        //console.log('课题数据',this.props.topicname)\r\n        fetch('/obtaindiscuss',{\r\n            method: 'post',\r\n            headers:{'Content-Type':'application/json'},\r\n            body:JSON.stringify({\r\n                topicname: this.props.topicname\r\n            })\r\n        }).then(response =>response.json()).then(data =>{\r\n            this.setState({\r\n                discusslist:data\r\n            })\r\n            console.log(data)\r\n        })\r\n    }\r\n                                // <div>\r\n                                   \r\n                                // </div>\r\n\r\n                                // \r\n                                // <div className = {style.ownmsg>\r\n                                //     {item.username}：{item.msg}\r\n                                // </div></div>\r\n    render() {\r\n    return (\r\n      <div>\r\n        <div className = {style.disscusspage}>\r\n            {\r\n                this.state.discusslist.map(item =>{\r\n                    return (\r\n                        <div className ={style.discussline} key = {item.msgtime} >\r\n                            <div className = {style.msgtime}>{item.msgtime}</div>\r\n                            {\r\n                                item.username === this.props.userdata.username ? \r\n                                <div className = {style.ownmsg}>\r\n                                    <div>\r\n                                        {item.msg}\r\n                                    </div>\r\n                                    <div className = {style.msgbox}>\r\n                                        {item.username}\r\n                                    </div>\r\n                                </div>\r\n                                :\r\n                                <div className = {style.othermsg}>\r\n                                    <div>\r\n                                        {item.username}\r\n                                    </div>\r\n                                    <div className = {style.msgbox}>\r\n                                        {item.msg}\r\n                                    </div>\r\n                                </div>\r\n                            }\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,KAAP,MAAkB,0BAAlB;;AAEA,eAAe,MAAMC,WAAN,SAA0BF,SAA1B,CAAoC;EAAA;IAAA;IAAA,KAC/CG,KAD+C,GACvC;MACJC,WAAW,EAAC;IADR,CADuC;;IAAA,KAS/CC,aAT+C,GAS/B,MAAK;MACjB;MACAC,KAAK,CAAC,gBAAD,EAAkB;QACnBC,MAAM,EAAE,MADW;QAEnBC,OAAO,EAAC;UAAC,gBAAe;QAAhB,CAFW;QAGnBC,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;UAChBC,SAAS,EAAE,KAAKC,KAAL,CAAWD;QADN,CAAf;MAHc,CAAlB,CAAL,CAMGE,IANH,CAMQC,QAAQ,IAAGA,QAAQ,CAACC,IAAT,EANnB,EAMoCF,IANpC,CAMyCG,IAAI,IAAG;QAC5C,KAAKC,QAAL,CAAc;UACVd,WAAW,EAACa;QADF,CAAd;QAGAE,OAAO,CAACC,GAAR,CAAYH,IAAZ;MACH,CAXD;IAYH,CAvB8C;EAAA;;EAK/CI,iBAAiB,GAAE;IACf,KAAKhB,aAAL;EACH;;EAiB2B;EAEA;EAEA;EACA;EACA;EACA;EAC5BiB,MAAM,GAAG;IACT,oBACE;MAAA,uBACE;QAAK,SAAS,EAAIrB,KAAK,CAACsB,YAAxB;QAAA,UAEQ,KAAKpB,KAAL,CAAWC,WAAX,CAAuBoB,GAAvB,CAA2BC,IAAI,IAAG;UAC9B,oBACI;YAAK,SAAS,EAAGxB,KAAK,CAACyB,WAAvB;YAAA,wBACI;cAAK,SAAS,EAAIzB,KAAK,CAAC0B,OAAxB;cAAA,UAAkCF,IAAI,CAACE;YAAvC;cAAA;cAAA;cAAA;YAAA,QADJ,EAGQF,IAAI,CAACG,QAAL,KAAkB,KAAKf,KAAL,CAAWgB,QAAX,CAAoBD,QAAtC,gBACA;cAAK,SAAS,EAAI3B,KAAK,CAAC6B,MAAxB;cAAA,wBACI;gBAAA,UACKL,IAAI,CAACM;cADV;gBAAA;gBAAA;gBAAA;cAAA,QADJ,eAII;gBAAK,SAAS,EAAI9B,KAAK,CAAC+B,MAAxB;gBAAA,UACKP,IAAI,CAACG;cADV;gBAAA;gBAAA;gBAAA;cAAA,QAJJ;YAAA;cAAA;cAAA;cAAA;YAAA,QADA,gBAUA;cAAK,SAAS,EAAI3B,KAAK,CAACgC,QAAxB;cAAA,wBACI;gBAAA,UACKR,IAAI,CAACG;cADV;gBAAA;gBAAA;gBAAA;cAAA,QADJ,eAII;gBAAK,SAAS,EAAI3B,KAAK,CAAC+B,MAAxB;gBAAA,UACKP,IAAI,CAACM;cADV;gBAAA;gBAAA;gBAAA;cAAA,QAJJ;YAAA;cAAA;cAAA;cAAA;YAAA,QAbR;UAAA,GAA2CN,IAAI,CAACE,OAAhD;YAAA;YAAA;YAAA;UAAA,QADJ;QAyBH,CA1BD;MAFR;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAmCD;;AApEgD"},"metadata":{},"sourceType":"module"}