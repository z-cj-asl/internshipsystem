{"ast":null,"code":"import _classCallCheck from\"C:/Users/ZCJ/Desktop/internshipsysrem/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"C:/Users/ZCJ/Desktop/internshipsysrem/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"C:/Users/ZCJ/Desktop/internshipsysrem/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"C:/Users/ZCJ/Desktop/internshipsysrem/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import*as React from'react';//import login from '../../server/api/user'\nimport style from'./Login.module.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=/*#__PURE__*/function(_React$Component){_inherits(Login,_React$Component);var _super=_createSuper(Login);function Login(){var _this;_classCallCheck(this,Login);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={username:'',password:'',catigory:'student'};_this.usernameChange=function(e){var username=e.target.value;_this.setState({username:username});};_this.passwordChange=function(e){var password=e.target.value;_this.setState({password:password});};_this.setStudent=function(e){_this.setState({catigory:e.target.name});};_this.setBusiness=function(e){_this.setState({catigory:e.target.name});};_this.login=function(){var username=_this.state.username;var password=_this.state.password;if(!username){alert('请输入用户名');return;}if(!password){alert('请输入密码');return;}var result=fetch('https://localhost:3000/login',{method:'post',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:_this.state.username,password:_this.state.password})}).then(function(response){return response.json();}).then(function(data){window.alert(data);return data;});console.log(result);//const result = login(this.state.username,this.state.password);\n// console.log(result)\n// const result = await api('/api/selectF', {\n//     method: 'GET',\n//     body: {\n//         userInfo: {\n//             username: this.state.username, \n//             password: this.state.password,                 \n//         }\n//     }\n// })\n};_this.sign=function(){var username=_this.state.username;var password=_this.state.password;if(!username){alert('请输入用户名');return;}if(!password){alert('请输入密码');return;}};return _this;}_createClass(Login,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:style.login_frame,children:[/*#__PURE__*/_jsx(\"div\",{className:style.login_tip,children:\"\\u767B\\u5F55\\u6216\\u6CE8\\u518C\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:style.login_aside,children:\"\\u8D26\\u53F7\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:this.usernameChange}),/*#__PURE__*/_jsx(\"div\",{className:style.login_aside,children:\"\\u5BC6\\u7801\\uFF1A\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",onChange:this.passwordChange})]}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",checked:this.state.catigory==='student'?'checked':'',name:\"student\",onChange:this.setStudent}),\"\\u5B66\\u751F\",/*#__PURE__*/_jsx(\"input\",{type:\"radio\",checked:this.state.catigory==='student'?'':'checked',name:\"business\",onChange:this.setBusiness}),\"\\u4F01\\u4E1A\",/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{className:style.button_login,onClick:this.login,children:\"\\u767B\\u5F55\"}),/*#__PURE__*/_jsx(\"button\",{className:style.button_sign,onClick:this.sign,children:\"\\u6CE8\\u518C\"})]})]})]})});}}]);return Login;}(React.Component);export{Login as default};","map":{"version":3,"names":["React","style","Login","state","username","password","catigory","usernameChange","e","target","value","setState","passwordChange","setStudent","name","setBusiness","login","alert","result","fetch","method","headers","body","JSON","stringify","then","response","json","data","window","console","log","sign","login_frame","login_tip","login_aside","button_login","button_sign","Component"],"sources":["C:/Users/ZCJ/Desktop/internshipsysrem/src/comments/Login/Login.js"],"sourcesContent":["import * as React from 'react';\r\n//import login from '../../server/api/user'\r\nimport style from './Login.module.css'\r\n\r\nexport default class Login extends React.Component {\r\n    state = {\r\n        username: '',\r\n        password: '',\r\n        catigory: 'student'\r\n    }\r\n\r\n    usernameChange = (e) =>{\r\n        const username = e.target.value;\r\n\r\n        this.setState({\r\n            username: username\r\n        })\r\n    }\r\n\r\n    passwordChange = (e) =>{\r\n        const password = e.target.value;\r\n\r\n        this.setState({\r\n            password: password\r\n        })\r\n    }\r\n\r\n    setStudent = (e) => {\r\n        this.setState ({\r\n            catigory: e.target.name\r\n        })\r\n    }\r\n\r\n    setBusiness = (e) =>{\r\n        this.setState ({\r\n            catigory: e.target.name\r\n        })\r\n    }\r\n\r\n    login = () =>{\r\n        const username = this.state.username;\r\n        const password = this.state.password;\r\n\r\n        if(!username){\r\n            alert('请输入用户名')\r\n            return\r\n        }\r\n        if(!password){\r\n            alert('请输入密码')\r\n            return\r\n        }\r\n\r\n        const result = fetch('https://localhost:3000/login',{\r\n            method:'post',\r\n            headers:{'Content-Type':'application/json'},\r\n            body:JSON.stringify({\r\n                username:this.state.username,\r\n                password:this.state.password\r\n            })\r\n        }).then(response=>response.json()).then(data=>{\r\n            window.alert(data)\r\n            return data\r\n        })\r\n        console.log(result)\r\n        //const result = login(this.state.username,this.state.password);\r\n        // console.log(result)\r\n        // const result = await api('/api/selectF', {\r\n        //     method: 'GET',\r\n        //     body: {\r\n        //         userInfo: {\r\n        //             username: this.state.username, \r\n        //             password: this.state.password,                 \r\n        //         }\r\n        //     }\r\n        // })\r\n\r\n    }\r\n\r\n    sign = () =>{\r\n        const username = this.state.username;\r\n        const password = this.state.password;\r\n        if(!username){\r\n            alert('请输入用户名')\r\n            return\r\n        }\r\n        if(!password){\r\n            alert('请输入密码')\r\n            return\r\n        }\r\n\r\n    }\r\n    render() {\r\n        return (\r\n            <div>\r\n            <div className={style.login_frame}>\r\n                <div className={style.login_tip}>登录或注册</div>\r\n                <div>\r\n                    <div>\r\n                        <div  className={style.login_aside}>账号：</div>\r\n                            <input type=\"text\" onChange= {this.usernameChange} />\r\n                        <div  className={style.login_aside}>密码：</div>\r\n                            <input type=\"text\" onChange= {this.passwordChange}/> \r\n                    </div>\r\n                    <input  type='radio' checked = {this.state.catigory === 'student'? 'checked': '' } name='student' onChange = {this.setStudent}/>\r\n                    学生\r\n                    <input  type='radio' checked = {this.state.catigory === 'student'? '': 'checked' } name='business' onChange = {this.setBusiness}/>\r\n                    企业\r\n                    <div>\r\n                        <button  className={style.button_login} onClick ={this.login}>登录</button>\r\n                        <button  className={style.button_sign} onClick ={this.sign}>注册</button>\r\n                    </div> \r\n                </div>   \r\n            </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}