{"ast":null,"code":"module.exports = ErrorPacket;\n\nfunction ErrorPacket(options) {\n  options = options || {};\n  this.fieldCount = options.fieldCount;\n  this.errno = options.errno;\n  this.sqlStateMarker = options.sqlStateMarker;\n  this.sqlState = options.sqlState;\n  this.message = options.message;\n}\n\nErrorPacket.prototype.parse = function (parser) {\n  this.fieldCount = parser.parseUnsignedNumber(1);\n  this.errno = parser.parseUnsignedNumber(2); // sqlStateMarker ('#' = 0x23) indicates error packet format\n\n  if (parser.peak() === 0x23) {\n    this.sqlStateMarker = parser.parseString(1);\n    this.sqlState = parser.parseString(5);\n  }\n\n  this.message = parser.parsePacketTerminatedString();\n};\n\nErrorPacket.prototype.write = function (writer) {\n  writer.writeUnsignedNumber(1, 0xff);\n  writer.writeUnsignedNumber(2, this.errno);\n\n  if (this.sqlStateMarker) {\n    writer.writeString(this.sqlStateMarker);\n    writer.writeString(this.sqlState);\n  }\n\n  writer.writeString(this.message);\n};","map":{"version":3,"names":["module","exports","ErrorPacket","options","fieldCount","errno","sqlStateMarker","sqlState","message","prototype","parse","parser","parseUnsignedNumber","peak","parseString","parsePacketTerminatedString","write","writer","writeUnsignedNumber","writeString"],"sources":["C:/Users/ZCJ/Desktop/internshipsysrem/node_modules/mysql/lib/protocol/packets/ErrorPacket.js"],"sourcesContent":["module.exports = ErrorPacket;\nfunction ErrorPacket(options) {\n  options = options || {};\n\n  this.fieldCount     = options.fieldCount;\n  this.errno          = options.errno;\n  this.sqlStateMarker = options.sqlStateMarker;\n  this.sqlState       = options.sqlState;\n  this.message        = options.message;\n}\n\nErrorPacket.prototype.parse = function(parser) {\n  this.fieldCount = parser.parseUnsignedNumber(1);\n  this.errno      = parser.parseUnsignedNumber(2);\n\n  // sqlStateMarker ('#' = 0x23) indicates error packet format\n  if (parser.peak() === 0x23) {\n    this.sqlStateMarker = parser.parseString(1);\n    this.sqlState       = parser.parseString(5);\n  }\n\n  this.message = parser.parsePacketTerminatedString();\n};\n\nErrorPacket.prototype.write = function(writer) {\n  writer.writeUnsignedNumber(1, 0xff);\n  writer.writeUnsignedNumber(2, this.errno);\n\n  if (this.sqlStateMarker) {\n    writer.writeString(this.sqlStateMarker);\n    writer.writeString(this.sqlState);\n  }\n\n  writer.writeString(this.message);\n};\n"],"mappings":"AAAAA,MAAM,CAACC,OAAP,GAAiBC,WAAjB;;AACA,SAASA,WAAT,CAAqBC,OAArB,EAA8B;EAC5BA,OAAO,GAAGA,OAAO,IAAI,EAArB;EAEA,KAAKC,UAAL,GAAsBD,OAAO,CAACC,UAA9B;EACA,KAAKC,KAAL,GAAsBF,OAAO,CAACE,KAA9B;EACA,KAAKC,cAAL,GAAsBH,OAAO,CAACG,cAA9B;EACA,KAAKC,QAAL,GAAsBJ,OAAO,CAACI,QAA9B;EACA,KAAKC,OAAL,GAAsBL,OAAO,CAACK,OAA9B;AACD;;AAEDN,WAAW,CAACO,SAAZ,CAAsBC,KAAtB,GAA8B,UAASC,MAAT,EAAiB;EAC7C,KAAKP,UAAL,GAAkBO,MAAM,CAACC,mBAAP,CAA2B,CAA3B,CAAlB;EACA,KAAKP,KAAL,GAAkBM,MAAM,CAACC,mBAAP,CAA2B,CAA3B,CAAlB,CAF6C,CAI7C;;EACA,IAAID,MAAM,CAACE,IAAP,OAAkB,IAAtB,EAA4B;IAC1B,KAAKP,cAAL,GAAsBK,MAAM,CAACG,WAAP,CAAmB,CAAnB,CAAtB;IACA,KAAKP,QAAL,GAAsBI,MAAM,CAACG,WAAP,CAAmB,CAAnB,CAAtB;EACD;;EAED,KAAKN,OAAL,GAAeG,MAAM,CAACI,2BAAP,EAAf;AACD,CAXD;;AAaAb,WAAW,CAACO,SAAZ,CAAsBO,KAAtB,GAA8B,UAASC,MAAT,EAAiB;EAC7CA,MAAM,CAACC,mBAAP,CAA2B,CAA3B,EAA8B,IAA9B;EACAD,MAAM,CAACC,mBAAP,CAA2B,CAA3B,EAA8B,KAAKb,KAAnC;;EAEA,IAAI,KAAKC,cAAT,EAAyB;IACvBW,MAAM,CAACE,WAAP,CAAmB,KAAKb,cAAxB;IACAW,MAAM,CAACE,WAAP,CAAmB,KAAKZ,QAAxB;EACD;;EAEDU,MAAM,CAACE,WAAP,CAAmB,KAAKX,OAAxB;AACD,CAVD"},"metadata":{},"sourceType":"script"}