{"ast":null,"code":"var Buffer = require('safe-buffer').Buffer;\n\nmodule.exports = ClientAuthenticationPacket;\n\nfunction ClientAuthenticationPacket(options) {\n  options = options || {};\n  this.clientFlags = options.clientFlags;\n  this.maxPacketSize = options.maxPacketSize;\n  this.charsetNumber = options.charsetNumber;\n  this.filler = undefined;\n  this.user = options.user;\n  this.scrambleBuff = options.scrambleBuff;\n  this.database = options.database;\n  this.protocol41 = options.protocol41;\n}\n\nClientAuthenticationPacket.prototype.parse = function (parser) {\n  if (this.protocol41) {\n    this.clientFlags = parser.parseUnsignedNumber(4);\n    this.maxPacketSize = parser.parseUnsignedNumber(4);\n    this.charsetNumber = parser.parseUnsignedNumber(1);\n    this.filler = parser.parseFiller(23);\n    this.user = parser.parseNullTerminatedString();\n    this.scrambleBuff = parser.parseLengthCodedBuffer();\n    this.database = parser.parseNullTerminatedString();\n  } else {\n    this.clientFlags = parser.parseUnsignedNumber(2);\n    this.maxPacketSize = parser.parseUnsignedNumber(3);\n    this.user = parser.parseNullTerminatedString();\n    this.scrambleBuff = parser.parseBuffer(8);\n    this.database = parser.parseLengthCodedBuffer();\n  }\n};\n\nClientAuthenticationPacket.prototype.write = function (writer) {\n  if (this.protocol41) {\n    writer.writeUnsignedNumber(4, this.clientFlags);\n    writer.writeUnsignedNumber(4, this.maxPacketSize);\n    writer.writeUnsignedNumber(1, this.charsetNumber);\n    writer.writeFiller(23);\n    writer.writeNullTerminatedString(this.user);\n    writer.writeLengthCodedBuffer(this.scrambleBuff);\n    writer.writeNullTerminatedString(this.database);\n  } else {\n    writer.writeUnsignedNumber(2, this.clientFlags);\n    writer.writeUnsignedNumber(3, this.maxPacketSize);\n    writer.writeNullTerminatedString(this.user);\n    writer.writeBuffer(this.scrambleBuff);\n\n    if (this.database && this.database.length) {\n      writer.writeFiller(1);\n      writer.writeBuffer(Buffer.from(this.database));\n    }\n  }\n};","map":{"version":3,"names":["Buffer","require","module","exports","ClientAuthenticationPacket","options","clientFlags","maxPacketSize","charsetNumber","filler","undefined","user","scrambleBuff","database","protocol41","prototype","parse","parser","parseUnsignedNumber","parseFiller","parseNullTerminatedString","parseLengthCodedBuffer","parseBuffer","write","writer","writeUnsignedNumber","writeFiller","writeNullTerminatedString","writeLengthCodedBuffer","writeBuffer","length","from"],"sources":["C:/Users/ZCJ/Desktop/internshipsysrem/node_modules/mysql/lib/protocol/packets/ClientAuthenticationPacket.js"],"sourcesContent":["var Buffer = require('safe-buffer').Buffer;\n\nmodule.exports = ClientAuthenticationPacket;\nfunction ClientAuthenticationPacket(options) {\n  options = options || {};\n\n  this.clientFlags   = options.clientFlags;\n  this.maxPacketSize = options.maxPacketSize;\n  this.charsetNumber = options.charsetNumber;\n  this.filler        = undefined;\n  this.user          = options.user;\n  this.scrambleBuff  = options.scrambleBuff;\n  this.database      = options.database;\n  this.protocol41    = options.protocol41;\n}\n\nClientAuthenticationPacket.prototype.parse = function(parser) {\n  if (this.protocol41) {\n    this.clientFlags   = parser.parseUnsignedNumber(4);\n    this.maxPacketSize = parser.parseUnsignedNumber(4);\n    this.charsetNumber = parser.parseUnsignedNumber(1);\n    this.filler        = parser.parseFiller(23);\n    this.user          = parser.parseNullTerminatedString();\n    this.scrambleBuff  = parser.parseLengthCodedBuffer();\n    this.database      = parser.parseNullTerminatedString();\n  } else {\n    this.clientFlags   = parser.parseUnsignedNumber(2);\n    this.maxPacketSize = parser.parseUnsignedNumber(3);\n    this.user          = parser.parseNullTerminatedString();\n    this.scrambleBuff  = parser.parseBuffer(8);\n    this.database      = parser.parseLengthCodedBuffer();\n  }\n};\n\nClientAuthenticationPacket.prototype.write = function(writer) {\n  if (this.protocol41) {\n    writer.writeUnsignedNumber(4, this.clientFlags);\n    writer.writeUnsignedNumber(4, this.maxPacketSize);\n    writer.writeUnsignedNumber(1, this.charsetNumber);\n    writer.writeFiller(23);\n    writer.writeNullTerminatedString(this.user);\n    writer.writeLengthCodedBuffer(this.scrambleBuff);\n    writer.writeNullTerminatedString(this.database);\n  } else {\n    writer.writeUnsignedNumber(2, this.clientFlags);\n    writer.writeUnsignedNumber(3, this.maxPacketSize);\n    writer.writeNullTerminatedString(this.user);\n    writer.writeBuffer(this.scrambleBuff);\n    if (this.database && this.database.length) {\n      writer.writeFiller(1);\n      writer.writeBuffer(Buffer.from(this.database));\n    }\n  }\n};\n"],"mappings":"AAAA,IAAIA,MAAM,GAAGC,OAAO,CAAC,aAAD,CAAP,CAAuBD,MAApC;;AAEAE,MAAM,CAACC,OAAP,GAAiBC,0BAAjB;;AACA,SAASA,0BAAT,CAAoCC,OAApC,EAA6C;EAC3CA,OAAO,GAAGA,OAAO,IAAI,EAArB;EAEA,KAAKC,WAAL,GAAqBD,OAAO,CAACC,WAA7B;EACA,KAAKC,aAAL,GAAqBF,OAAO,CAACE,aAA7B;EACA,KAAKC,aAAL,GAAqBH,OAAO,CAACG,aAA7B;EACA,KAAKC,MAAL,GAAqBC,SAArB;EACA,KAAKC,IAAL,GAAqBN,OAAO,CAACM,IAA7B;EACA,KAAKC,YAAL,GAAqBP,OAAO,CAACO,YAA7B;EACA,KAAKC,QAAL,GAAqBR,OAAO,CAACQ,QAA7B;EACA,KAAKC,UAAL,GAAqBT,OAAO,CAACS,UAA7B;AACD;;AAEDV,0BAA0B,CAACW,SAA3B,CAAqCC,KAArC,GAA6C,UAASC,MAAT,EAAiB;EAC5D,IAAI,KAAKH,UAAT,EAAqB;IACnB,KAAKR,WAAL,GAAqBW,MAAM,CAACC,mBAAP,CAA2B,CAA3B,CAArB;IACA,KAAKX,aAAL,GAAqBU,MAAM,CAACC,mBAAP,CAA2B,CAA3B,CAArB;IACA,KAAKV,aAAL,GAAqBS,MAAM,CAACC,mBAAP,CAA2B,CAA3B,CAArB;IACA,KAAKT,MAAL,GAAqBQ,MAAM,CAACE,WAAP,CAAmB,EAAnB,CAArB;IACA,KAAKR,IAAL,GAAqBM,MAAM,CAACG,yBAAP,EAArB;IACA,KAAKR,YAAL,GAAqBK,MAAM,CAACI,sBAAP,EAArB;IACA,KAAKR,QAAL,GAAqBI,MAAM,CAACG,yBAAP,EAArB;EACD,CARD,MAQO;IACL,KAAKd,WAAL,GAAqBW,MAAM,CAACC,mBAAP,CAA2B,CAA3B,CAArB;IACA,KAAKX,aAAL,GAAqBU,MAAM,CAACC,mBAAP,CAA2B,CAA3B,CAArB;IACA,KAAKP,IAAL,GAAqBM,MAAM,CAACG,yBAAP,EAArB;IACA,KAAKR,YAAL,GAAqBK,MAAM,CAACK,WAAP,CAAmB,CAAnB,CAArB;IACA,KAAKT,QAAL,GAAqBI,MAAM,CAACI,sBAAP,EAArB;EACD;AACF,CAhBD;;AAkBAjB,0BAA0B,CAACW,SAA3B,CAAqCQ,KAArC,GAA6C,UAASC,MAAT,EAAiB;EAC5D,IAAI,KAAKV,UAAT,EAAqB;IACnBU,MAAM,CAACC,mBAAP,CAA2B,CAA3B,EAA8B,KAAKnB,WAAnC;IACAkB,MAAM,CAACC,mBAAP,CAA2B,CAA3B,EAA8B,KAAKlB,aAAnC;IACAiB,MAAM,CAACC,mBAAP,CAA2B,CAA3B,EAA8B,KAAKjB,aAAnC;IACAgB,MAAM,CAACE,WAAP,CAAmB,EAAnB;IACAF,MAAM,CAACG,yBAAP,CAAiC,KAAKhB,IAAtC;IACAa,MAAM,CAACI,sBAAP,CAA8B,KAAKhB,YAAnC;IACAY,MAAM,CAACG,yBAAP,CAAiC,KAAKd,QAAtC;EACD,CARD,MAQO;IACLW,MAAM,CAACC,mBAAP,CAA2B,CAA3B,EAA8B,KAAKnB,WAAnC;IACAkB,MAAM,CAACC,mBAAP,CAA2B,CAA3B,EAA8B,KAAKlB,aAAnC;IACAiB,MAAM,CAACG,yBAAP,CAAiC,KAAKhB,IAAtC;IACAa,MAAM,CAACK,WAAP,CAAmB,KAAKjB,YAAxB;;IACA,IAAI,KAAKC,QAAL,IAAiB,KAAKA,QAAL,CAAciB,MAAnC,EAA2C;MACzCN,MAAM,CAACE,WAAP,CAAmB,CAAnB;MACAF,MAAM,CAACK,WAAP,CAAmB7B,MAAM,CAAC+B,IAAP,CAAY,KAAKlB,QAAjB,CAAnB;IACD;EACF;AACF,CAnBD"},"metadata":{},"sourceType":"script"}