{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ZCJ\\\\Desktop\\\\internshipsysrem\\\\src\\\\components\\\\Discusstion\\\\Discusstion.js\";\nimport React, { Component } from 'react';\nimport style from './Discusstion.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Discusstion extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      discusslist: []\n    };\n\n    this.obtainDiscuss = () => {\n      //console.log('课题数据',this.props.topicname)\n      fetch('/obtaindiscuss', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          topicname: this.props.topicname\n        })\n      }).then(response => response.json()).then(data => {\n        this.setState({\n          discusslist: data\n        });\n        console.log(data);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.obtainDiscuss();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.disscusspage,\n        children: this.state.discusslist.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              children: item.msgtime\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: item.username === this.props.userdata.username ? style.ownmsg : style.othermsg,\n              children: [item.username, \"\\uFF1A\", item.msg]\n            }, item.toString(), true, {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 25\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","Component","style","Discusstion","state","discusslist","obtainDiscuss","fetch","method","headers","body","JSON","stringify","topicname","props","then","response","json","data","setState","console","log","componentDidMount","render","disscusspage","map","item","msgtime","username","userdata","ownmsg","othermsg","msg","toString"],"sources":["C:/Users/ZCJ/Desktop/internshipsysrem/src/components/Discusstion/Discusstion.js"],"sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport style from './Discusstion.module.css'\r\n\r\nexport default class Discusstion extends Component {\r\n    state = {\r\n        discusslist:[]\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.obtainDiscuss()\r\n    }\r\n\r\n    obtainDiscuss = () =>{\r\n        //console.log('课题数据',this.props.topicname)\r\n        fetch('/obtaindiscuss',{\r\n            method: 'post',\r\n            headers:{'Content-Type':'application/json'},\r\n            body:JSON.stringify({\r\n                topicname: this.props.topicname\r\n            })\r\n        }).then(response =>response.json()).then(data =>{\r\n            this.setState({\r\n                discusslist:data\r\n            })\r\n            console.log(data)\r\n        })\r\n    }\r\n\r\n    render() {\r\n    return (\r\n      <div>\r\n        <div className = {style.disscusspage}>\r\n            {\r\n                this.state.discusslist.map(item =>{\r\n                    return (\r\n                        <div>\r\n                            <div>{item.msgtime}</div>\r\n                            <div key = {item.toString()} className = {item.username === this.props.userdata.username ? style.ownmsg :style.othermsg}>\r\n                                {item.username}：{item.msg}\r\n                            </div>\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n        </div>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,KAAP,MAAkB,0BAAlB;;AAEA,eAAe,MAAMC,WAAN,SAA0BF,SAA1B,CAAoC;EAAA;IAAA;IAAA,KAC/CG,KAD+C,GACvC;MACJC,WAAW,EAAC;IADR,CADuC;;IAAA,KAS/CC,aAT+C,GAS/B,MAAK;MACjB;MACAC,KAAK,CAAC,gBAAD,EAAkB;QACnBC,MAAM,EAAE,MADW;QAEnBC,OAAO,EAAC;UAAC,gBAAe;QAAhB,CAFW;QAGnBC,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;UAChBC,SAAS,EAAE,KAAKC,KAAL,CAAWD;QADN,CAAf;MAHc,CAAlB,CAAL,CAMGE,IANH,CAMQC,QAAQ,IAAGA,QAAQ,CAACC,IAAT,EANnB,EAMoCF,IANpC,CAMyCG,IAAI,IAAG;QAC5C,KAAKC,QAAL,CAAc;UACVd,WAAW,EAACa;QADF,CAAd;QAGAE,OAAO,CAACC,GAAR,CAAYH,IAAZ;MACH,CAXD;IAYH,CAvB8C;EAAA;;EAK/CI,iBAAiB,GAAE;IACf,KAAKhB,aAAL;EACH;;EAkBDiB,MAAM,GAAG;IACT,oBACE;MAAA,uBACE;QAAK,SAAS,EAAIrB,KAAK,CAACsB,YAAxB;QAAA,UAEQ,KAAKpB,KAAL,CAAWC,WAAX,CAAuBoB,GAAvB,CAA2BC,IAAI,IAAG;UAC9B,oBACI;YAAA,wBACI;cAAA,UAAMA,IAAI,CAACC;YAAX;cAAA;cAAA;cAAA;YAAA,QADJ,eAEI;cAA6B,SAAS,EAAID,IAAI,CAACE,QAAL,KAAkB,KAAKd,KAAL,CAAWe,QAAX,CAAoBD,QAAtC,GAAiD1B,KAAK,CAAC4B,MAAvD,GAA+D5B,KAAK,CAAC6B,QAA/G;cAAA,WACKL,IAAI,CAACE,QADV,YACqBF,IAAI,CAACM,GAD1B;YAAA,GAAYN,IAAI,CAACO,QAAL,EAAZ;cAAA;cAAA;cAAA;YAAA,QAFJ;UAAA;YAAA;YAAA;YAAA;UAAA,QADJ;QAQH,CATD;MAFR;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAkBD;;AA5CgD"},"metadata":{},"sourceType":"module"}