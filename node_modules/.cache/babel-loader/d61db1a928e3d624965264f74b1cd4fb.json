{"ast":null,"code":"// Language-neutral expression to match ER_UPDATE_INFO\nvar ER_UPDATE_INFO_REGEXP = /^[^:0-9]+: [0-9]+[^:0-9]+: ([0-9]+)[^:0-9]+: [0-9]+[^:0-9]*$/;\nmodule.exports = OkPacket;\n\nfunction OkPacket(options) {\n  options = options || {};\n  this.fieldCount = undefined;\n  this.affectedRows = undefined;\n  this.insertId = undefined;\n  this.serverStatus = undefined;\n  this.warningCount = undefined;\n  this.message = undefined;\n  this.protocol41 = options.protocol41;\n}\n\nOkPacket.prototype.parse = function (parser) {\n  this.fieldCount = parser.parseUnsignedNumber(1);\n  this.affectedRows = parser.parseLengthCodedNumber();\n  this.insertId = parser.parseLengthCodedNumber();\n\n  if (this.protocol41) {\n    this.serverStatus = parser.parseUnsignedNumber(2);\n    this.warningCount = parser.parseUnsignedNumber(2);\n  }\n\n  this.message = parser.parsePacketTerminatedString();\n  this.changedRows = 0;\n  var m = ER_UPDATE_INFO_REGEXP.exec(this.message);\n\n  if (m !== null) {\n    this.changedRows = parseInt(m[1], 10);\n  }\n};\n\nOkPacket.prototype.write = function (writer) {\n  writer.writeUnsignedNumber(1, 0x00);\n  writer.writeLengthCodedNumber(this.affectedRows || 0);\n  writer.writeLengthCodedNumber(this.insertId || 0);\n\n  if (this.protocol41) {\n    writer.writeUnsignedNumber(2, this.serverStatus || 0);\n    writer.writeUnsignedNumber(2, this.warningCount || 0);\n  }\n\n  writer.writeString(this.message);\n};","map":{"version":3,"names":["ER_UPDATE_INFO_REGEXP","module","exports","OkPacket","options","fieldCount","undefined","affectedRows","insertId","serverStatus","warningCount","message","protocol41","prototype","parse","parser","parseUnsignedNumber","parseLengthCodedNumber","parsePacketTerminatedString","changedRows","m","exec","parseInt","write","writer","writeUnsignedNumber","writeLengthCodedNumber","writeString"],"sources":["C:/Users/ZCJ/Desktop/internshipsysrem/node_modules/mysql/lib/protocol/packets/OkPacket.js"],"sourcesContent":["\n// Language-neutral expression to match ER_UPDATE_INFO\nvar ER_UPDATE_INFO_REGEXP = /^[^:0-9]+: [0-9]+[^:0-9]+: ([0-9]+)[^:0-9]+: [0-9]+[^:0-9]*$/;\n\nmodule.exports = OkPacket;\nfunction OkPacket(options) {\n  options = options || {};\n\n  this.fieldCount   = undefined;\n  this.affectedRows = undefined;\n  this.insertId     = undefined;\n  this.serverStatus = undefined;\n  this.warningCount = undefined;\n  this.message      = undefined;\n  this.protocol41   = options.protocol41;\n}\n\nOkPacket.prototype.parse = function(parser) {\n  this.fieldCount   = parser.parseUnsignedNumber(1);\n  this.affectedRows = parser.parseLengthCodedNumber();\n  this.insertId     = parser.parseLengthCodedNumber();\n  if (this.protocol41) {\n    this.serverStatus = parser.parseUnsignedNumber(2);\n    this.warningCount = parser.parseUnsignedNumber(2);\n  }\n  this.message      = parser.parsePacketTerminatedString();\n  this.changedRows  = 0;\n\n  var m = ER_UPDATE_INFO_REGEXP.exec(this.message);\n  if (m !== null) {\n    this.changedRows = parseInt(m[1], 10);\n  }\n};\n\nOkPacket.prototype.write = function(writer) {\n  writer.writeUnsignedNumber(1, 0x00);\n  writer.writeLengthCodedNumber(this.affectedRows || 0);\n  writer.writeLengthCodedNumber(this.insertId || 0);\n  if (this.protocol41) {\n    writer.writeUnsignedNumber(2, this.serverStatus || 0);\n    writer.writeUnsignedNumber(2, this.warningCount || 0);\n  }\n  writer.writeString(this.message);\n};\n"],"mappings":"AACA;AACA,IAAIA,qBAAqB,GAAG,8DAA5B;AAEAC,MAAM,CAACC,OAAP,GAAiBC,QAAjB;;AACA,SAASA,QAAT,CAAkBC,OAAlB,EAA2B;EACzBA,OAAO,GAAGA,OAAO,IAAI,EAArB;EAEA,KAAKC,UAAL,GAAoBC,SAApB;EACA,KAAKC,YAAL,GAAoBD,SAApB;EACA,KAAKE,QAAL,GAAoBF,SAApB;EACA,KAAKG,YAAL,GAAoBH,SAApB;EACA,KAAKI,YAAL,GAAoBJ,SAApB;EACA,KAAKK,OAAL,GAAoBL,SAApB;EACA,KAAKM,UAAL,GAAoBR,OAAO,CAACQ,UAA5B;AACD;;AAEDT,QAAQ,CAACU,SAAT,CAAmBC,KAAnB,GAA2B,UAASC,MAAT,EAAiB;EAC1C,KAAKV,UAAL,GAAoBU,MAAM,CAACC,mBAAP,CAA2B,CAA3B,CAApB;EACA,KAAKT,YAAL,GAAoBQ,MAAM,CAACE,sBAAP,EAApB;EACA,KAAKT,QAAL,GAAoBO,MAAM,CAACE,sBAAP,EAApB;;EACA,IAAI,KAAKL,UAAT,EAAqB;IACnB,KAAKH,YAAL,GAAoBM,MAAM,CAACC,mBAAP,CAA2B,CAA3B,CAApB;IACA,KAAKN,YAAL,GAAoBK,MAAM,CAACC,mBAAP,CAA2B,CAA3B,CAApB;EACD;;EACD,KAAKL,OAAL,GAAoBI,MAAM,CAACG,2BAAP,EAApB;EACA,KAAKC,WAAL,GAAoB,CAApB;EAEA,IAAIC,CAAC,GAAGpB,qBAAqB,CAACqB,IAAtB,CAA2B,KAAKV,OAAhC,CAAR;;EACA,IAAIS,CAAC,KAAK,IAAV,EAAgB;IACd,KAAKD,WAAL,GAAmBG,QAAQ,CAACF,CAAC,CAAC,CAAD,CAAF,EAAO,EAAP,CAA3B;EACD;AACF,CAfD;;AAiBAjB,QAAQ,CAACU,SAAT,CAAmBU,KAAnB,GAA2B,UAASC,MAAT,EAAiB;EAC1CA,MAAM,CAACC,mBAAP,CAA2B,CAA3B,EAA8B,IAA9B;EACAD,MAAM,CAACE,sBAAP,CAA8B,KAAKnB,YAAL,IAAqB,CAAnD;EACAiB,MAAM,CAACE,sBAAP,CAA8B,KAAKlB,QAAL,IAAiB,CAA/C;;EACA,IAAI,KAAKI,UAAT,EAAqB;IACnBY,MAAM,CAACC,mBAAP,CAA2B,CAA3B,EAA8B,KAAKhB,YAAL,IAAqB,CAAnD;IACAe,MAAM,CAACC,mBAAP,CAA2B,CAA3B,EAA8B,KAAKf,YAAL,IAAqB,CAAnD;EACD;;EACDc,MAAM,CAACG,WAAP,CAAmB,KAAKhB,OAAxB;AACD,CATD"},"metadata":{},"sourceType":"script"}