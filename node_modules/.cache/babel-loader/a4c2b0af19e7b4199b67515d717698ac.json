{"ast":null,"code":"var Sequence = require('./Sequence');\n\nvar Util = require('util');\n\nvar Packets = require('../packets');\n\nmodule.exports = Quit;\nUtil.inherits(Quit, Sequence);\n\nfunction Quit(options, callback) {\n  if (!callback && typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n\n  Sequence.call(this, options, callback);\n  this._started = false;\n}\n\nQuit.prototype.end = function end(err) {\n  if (this._ended) {\n    return;\n  }\n\n  if (!this._started) {\n    Sequence.prototype.end.call(this, err);\n    return;\n  }\n\n  if (err && err.code === 'ECONNRESET' && err.syscall === 'read') {\n    // Ignore read errors after packet sent\n    Sequence.prototype.end.call(this);\n    return;\n  }\n\n  Sequence.prototype.end.call(this, err);\n};\n\nQuit.prototype.start = function () {\n  this._started = true;\n  this.emit('packet', new Packets.ComQuitPacket());\n};","map":{"version":3,"names":["Sequence","require","Util","Packets","module","exports","Quit","inherits","options","callback","call","_started","prototype","end","err","_ended","code","syscall","start","emit","ComQuitPacket"],"sources":["C:/Users/ZCJ/Desktop/internshipsysrem/node_modules/mysql/lib/protocol/sequences/Quit.js"],"sourcesContent":["var Sequence = require('./Sequence');\nvar Util     = require('util');\nvar Packets  = require('../packets');\n\nmodule.exports = Quit;\nUtil.inherits(Quit, Sequence);\nfunction Quit(options, callback) {\n  if (!callback && typeof options === 'function') {\n    callback = options;\n    options = {};\n  }\n\n  Sequence.call(this, options, callback);\n\n  this._started = false;\n}\n\nQuit.prototype.end = function end(err) {\n  if (this._ended) {\n    return;\n  }\n\n  if (!this._started) {\n    Sequence.prototype.end.call(this, err);\n    return;\n  }\n\n  if (err && err.code === 'ECONNRESET' && err.syscall === 'read') {\n    // Ignore read errors after packet sent\n    Sequence.prototype.end.call(this);\n    return;\n  }\n\n  Sequence.prototype.end.call(this, err);\n};\n\nQuit.prototype.start = function() {\n  this._started = true;\n  this.emit('packet', new Packets.ComQuitPacket());\n};\n"],"mappings":"AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,YAAD,CAAtB;;AACA,IAAIC,IAAI,GAAOD,OAAO,CAAC,MAAD,CAAtB;;AACA,IAAIE,OAAO,GAAIF,OAAO,CAAC,YAAD,CAAtB;;AAEAG,MAAM,CAACC,OAAP,GAAiBC,IAAjB;AACAJ,IAAI,CAACK,QAAL,CAAcD,IAAd,EAAoBN,QAApB;;AACA,SAASM,IAAT,CAAcE,OAAd,EAAuBC,QAAvB,EAAiC;EAC/B,IAAI,CAACA,QAAD,IAAa,OAAOD,OAAP,KAAmB,UAApC,EAAgD;IAC9CC,QAAQ,GAAGD,OAAX;IACAA,OAAO,GAAG,EAAV;EACD;;EAEDR,QAAQ,CAACU,IAAT,CAAc,IAAd,EAAoBF,OAApB,EAA6BC,QAA7B;EAEA,KAAKE,QAAL,GAAgB,KAAhB;AACD;;AAEDL,IAAI,CAACM,SAAL,CAAeC,GAAf,GAAqB,SAASA,GAAT,CAAaC,GAAb,EAAkB;EACrC,IAAI,KAAKC,MAAT,EAAiB;IACf;EACD;;EAED,IAAI,CAAC,KAAKJ,QAAV,EAAoB;IAClBX,QAAQ,CAACY,SAAT,CAAmBC,GAAnB,CAAuBH,IAAvB,CAA4B,IAA5B,EAAkCI,GAAlC;IACA;EACD;;EAED,IAAIA,GAAG,IAAIA,GAAG,CAACE,IAAJ,KAAa,YAApB,IAAoCF,GAAG,CAACG,OAAJ,KAAgB,MAAxD,EAAgE;IAC9D;IACAjB,QAAQ,CAACY,SAAT,CAAmBC,GAAnB,CAAuBH,IAAvB,CAA4B,IAA5B;IACA;EACD;;EAEDV,QAAQ,CAACY,SAAT,CAAmBC,GAAnB,CAAuBH,IAAvB,CAA4B,IAA5B,EAAkCI,GAAlC;AACD,CAjBD;;AAmBAR,IAAI,CAACM,SAAL,CAAeM,KAAf,GAAuB,YAAW;EAChC,KAAKP,QAAL,GAAgB,IAAhB;EACA,KAAKQ,IAAL,CAAU,QAAV,EAAoB,IAAIhB,OAAO,CAACiB,aAAZ,EAApB;AACD,CAHD"},"metadata":{},"sourceType":"script"}