{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ZCJ\\\\Desktop\\\\internshipsysrem\\\\src\\\\components\\\\User\\\\User.js\";\nimport * as React from 'react';\nimport style from './User.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class User extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      username: '',\n      name: '',\n      sex: '',\n      phonenumber: '',\n      unit: '',\n      applylist: []\n    };\n\n    this.setName = e => {\n      this.setState({\n        name: e.target.value\n      });\n    };\n\n    this.setSex = e => {\n      this.setState({\n        sex: e.target.value\n      });\n    };\n\n    this.setPhonenumber = e => {\n      this.setState({\n        phonenumber: e.target.value\n      });\n    };\n\n    this.setUnit = e => {\n      this.setState({\n        unit: e.target.value\n      });\n    };\n\n    this.saveUserData = () => {\n      fetch('/saveuserdata', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          username: this.props.userdata.username,\n          name: this.state.name,\n          sex: this.state.sex,\n          phonenumber: this.state.phonenumber,\n          unit: this.state.unit\n        })\n      }).then(response => response.json()).then(data => {\n        console.log(data);\n        window.alert('保存成功');\n      });\n    };\n\n    this.applylist = () => {\n      fetch('/applylist', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          busername: this.props.userdata.username\n        })\n      }).then(response => response.json()).then(data => {\n        this.setState({\n          applylist: data\n        });\n        console.log(data);\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.applylist();\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.backpage,\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.props.setselect,\n          children: \"\\u8FD4\\u56DE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 51\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.userpage,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u8D26\\u53F7\\uFF1A\", this.props.userdata.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u59D3\\u540D\\uFF1A\", /*#__PURE__*/_jsxDEV(\"input\", {\n            value: this.props.userdata.name,\n            onChange: this.setName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u6027\\u522B\\uFF1A\", /*#__PURE__*/_jsxDEV(\"input\", {\n            value: this.props.userdata.sex,\n            onChange: this.setSex\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u624B\\u673A\\u53F7\\uFF1A\", /*#__PURE__*/_jsxDEV(\"input\", {\n            value: this.props.userdata.phonenumber,\n            onChange: this.setPhonenumber\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [\"\\u5355\\u4F4D\\uFF1A\", /*#__PURE__*/_jsxDEV(\"input\", {\n            value: this.props.userdata.unit,\n            onChange: this.setUnit\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.saveUserData,\n          children: \"\\u4FDD\\u5B58\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: style.underpage,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.applypage,\n          children: this.state.applylist.map(item => {\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: item.topicname\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u7533\\u8BF7\\u4EBA\\uFF1A\", item.susername]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u7533\\u8BF7\\u7406\\u7531\\uFF1A\", item.resumed]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 37\n              }, this), item.progress === '审核中' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  children: \"\\u540C\\u610F\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 46\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  children: \"\\u62D2\\u7EDD\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 65\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 41\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                children: item.progreess\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 99,\n                columnNumber: 42\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 33\n            }, this);\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: style.applypage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","style","User","Component","state","username","name","sex","phonenumber","unit","applylist","setName","e","setState","target","value","setSex","setPhonenumber","setUnit","saveUserData","fetch","method","headers","body","JSON","stringify","props","userdata","then","response","json","data","console","log","window","alert","busername","componentDidMount","render","backpage","setselect","userpage","underpage","applypage","map","item","topicname","susername","resumed","progress","progreess"],"sources":["C:/Users/ZCJ/Desktop/internshipsysrem/src/components/User/User.js"],"sourcesContent":["import * as React from 'react'\r\nimport style from './User.module.css'\r\n\r\nexport default class User extends React.Component{\r\n    state = {\r\n        username:'',\r\n        name:'',\r\n        sex: '',\r\n        phonenumber:'',\r\n        unit:'',\r\n        applylist:[]  \r\n    }\r\n\r\n    componentDidMount(){\r\n        this.applylist()\r\n    }\r\n\r\n    setName = (e) =>{\r\n        this.setState({\r\n            name: e.target.value\r\n        })\r\n    }\r\n\r\n    setSex = (e) =>{\r\n        this.setState({\r\n            sex: e.target.value\r\n        })\r\n    }\r\n\r\n    setPhonenumber = (e) =>{\r\n        this.setState({\r\n            phonenumber: e.target.value\r\n        })\r\n    }\r\n\r\n    setUnit = (e) =>{\r\n        this.setState({\r\n            unit: e.target.value\r\n        })\r\n    }\r\n\r\n    saveUserData = () =>{\r\n        fetch('/saveuserdata',{\r\n            method:'post',\r\n            headers:{'Content-Type':'application/json'},\r\n            body:JSON.stringify({\r\n                username:this.props.userdata.username,\r\n                name:this.state.name,\r\n                sex:this.state.sex,\r\n                phonenumber:this.state.phonenumber,\r\n                unit:this.state.unit\r\n            })\r\n        }).then(response =>response.json()).then(data =>{\r\n            console.log(data)\r\n            window.alert('保存成功')\r\n        })\r\n    }\r\n\r\n    applylist = () =>{\r\n        fetch('/applylist',{\r\n            method: 'post',\r\n            headers:{'Content-Type':'application/json'},\r\n            body:JSON.stringify({\r\n                busername: this.props.userdata.username\r\n            })\r\n        }).then(response =>response.json()).then(data =>{\r\n            this.setState({\r\n                applylist:data\r\n            })\r\n            console.log(data)\r\n        })\r\n    }\r\n\r\n    render(){\r\n        return(\r\n            <div>\r\n                <div  className ={style.backpage}><button onClick = {this.props.setselect}>返回</button></div>\r\n                <div className ={style.userpage}>\r\n                    <div>账号：{this.props.userdata.username}</div> \r\n                    <div>姓名：<input value={this.props.userdata.name} onChange ={this.setName}></input></div> \r\n                    <div>性别：<input value={this.props.userdata.sex} onChange ={this.setSex}></input></div> \r\n                    <div>手机号：<input value={this.props.userdata.phonenumber} onChange ={this.setPhonenumber}></input></div> \r\n                    <div>单位：<input value={this.props.userdata.unit} onChange ={this.setUnit}></input></div> \r\n                    <button onClick = {this.saveUserData}>保存</button>\r\n                </div>\r\n                \r\n                <div className = {style.underpage}>   \r\n                    <div className = {style.applypage}>\r\n                        {\r\n                            this.state.applylist.map(item =>{\r\n                                return (\r\n                                <div>\r\n                                    <div>{item.topicname}</div>\r\n                                    <div>申请人：{item.susername}</div>\r\n                                    <div>申请理由：{item.resumed}</div>\r\n                                    {\r\n                                        item.progress === '审核中' ?\r\n                                        <div><button>同意</button><button>拒绝</button></div>\r\n                                        :<div>{item.progreess}</div>\r\n                                    }\r\n                                </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n\r\n                    <div className = {style.applypage}>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n    \r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}